version: '3.1'

services:
  nginx:
    image: nginx
    container_name: nginx_meganmcdonough-art
    networks:
      - web
    labels:
      - traefik.http.routers.nginx.rule=Host(`meganmcdonough.art`)
      - traefik.http.routers.nginx.tls.certresolver=lets-encrypt

networks:
  web:
    external: true
  portfolio:
 
  # megan-portfolio:
  #   image: wordpress
  #   container_name: wordpress_megan-portfolio
  #   restart: "no"
  #   environment:
  #     WORDPRESS_DB_HOST: portfolio_db
  #     WORDPRESS_DB_USER: wordpress
  #     WORDPRESS_DB_PASSWORD: wordpress
  #     WORDPRESS_DB_NAME: wordpressdb
  #   volumes:
  #     - ${DOCKER_DATA}/html:/var/www/html
  #   labels:
  #     - traefik.http.routers.megan-portfolio.rule=Host(`meganmcdonough.art`)
  #     - traefik.http.routers.megan-portfolio.tls.certresolver=lets-encrypt
  #     - traefik.port=80
  #   networks:
  #     - web
  #     - portfolio
  #   depends_on:
  #     - portfolio_db

  # portfolio_db:
  #   image: mysql:5.7
  #   container_name: wordpress_portfolio-db
  #   restart: "no"
  #   networks:
  #     - portfolio
  #   environment:
  #     MYSQL_DATABASE: wordpressdb
  #     MYSQL_USER: wordpress
  #     MYSQL_PASSWORD: wordpress
  #     MYSQL_RANDOM_ROOT_PASSWORD: '1'
  #   volumes:
  #     - ${DOCKER_DATA}/db:/var/lib/mysql
  #   labels:
  #     - traefik.enable=false

