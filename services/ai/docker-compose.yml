name: 'ai'
services:
  sillytavern:
    container_name: ai_sillytavern
    image: ghcr.io/sillytavern/sillytavern:1.12.2
    networks:
      - web
    privileged: false
    volumes:
      - $APPDATA/sillytavern/config:/home/node/app/config
      - $APPDATA/sillytavern/data:/home/node/app/data
      - $APPDATA/sillytavern/plugins:/home/node/app/plugins
    environment:
      TZ: America/Los_Angeles
    labels:
      - traefik.http.routers.sillytavern.rule=Host(`sillytavern.jafner.net`)
      - traefik.http.routers.sillytavern.tls.certresolver=lets-encrypt
      - traefik.http.routers.sillytavern.middlewares=traefik-forward-auth-privileged@file

networks:
  web:
    external: true
