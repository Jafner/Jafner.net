version: '3'

services:
  e6:
    image: itzg/minecraft-server:java8
    container_name: e6
    environment:
      - EULA=TRUE
      - MAX_MEMORY=8G
      - TYPE=FORGE
      - FORGEVERSION=36.1.31
      - VERSION=1.16.5
      - OPS=jafner425
    volumes:
      - $DOCKER_DATA/e6:/data:rw
    networks:
      - mc-router
    labels:
      - traefik.enable=false
  litv:
    image: itzg/minecraft-server:java8
    container_name: litv
    environment:
      - EULA=TRUE
      - MAX_MEMORY=6G
      - TYPE=FORGE
      - FORGEVERSION=36.1.15
      - VERSION=1.16.5
    volumes:
      - $DOCKER_DATA/litv:/data:rw
    networks:
      - mc-router
    labels:
      - traefik.enable=false

  router:
    image: itzg/mc-router
    container_name: mc-router
    networks:
      - mc-router
    ports:
      - 25565:25565
    command: --mapping=cavesncliffs.jafner.net=cavesncliffs:25565,e6.jafner.net=e6:25565,litv.jafner.net=litv:25565
    labels:
      - traefik.enable=false

networks:
  mc-router:
